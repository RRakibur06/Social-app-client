(this["webpackJsonpsocial-react-app"]=this["webpackJsonpsocial-react-app"]||[]).push([[0],{223:function(e,t,a){},224:function(e,t,a){},262:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),i=a.n(c),s=(a(223),a(224),a(15)),o=a.n(s),l=a(20),d=a(9),j=a(363),u=a(3),b=a(341),p=a(182),h=a(343),x=260,O=Object(b.a)((function(e){var t,a,n,r,c,i,s,o,l;return{appbar:{backgroundColor:"primary",height:50,boxShadow:"none",display:"flex"},box:Object(u.a)({width:"80%",height:30,backgroundColor:p.a[50],borderRadius:50,marginBottom:15,display:"flex",flexDirection:"row",justifyContent:"flex-start",marginLeft:"2%",marginRight:"5%"},e.breakpoints.down("xs"),{width:"60%",marginRight:30}),text:(t={marginBottom:15},Object(u.a)(t,e.breakpoints.down("xs"),{fontSize:25}),Object(u.a)(t,"visited",{textDecoration:"none"}),Object(u.a)(t,"links",{textDecoration:"none"}),t),seacrhicon:{color:h.a[800],paddingLeft:5,paddingTop:5},input:{width:250,height:10,fontSize:5,paddingLeft:5,paddingTop:15},links:{marginBottom:10,marginLeft:60},iconbox:Object(u.a)({display:"flex",flexDirection:"row",justifyContent:"space-between",height:50,width:600,marginLeft:10,marginTop:15},e.breakpoints.down("sm"),{display:"none"}),avatar:{marginTop:-10},drawer:{width:x,zIndex:-1,overflow:"auto"},drawerPaper:{width:x,marginTop:50},root:{display:"flex"},leftdrawerlistitems:{height:40},button:{width:180,marginLeft:10,boxShadow:"none",backgroundColor:e.palette.grey[400],color:e.palette.grey[900]},horizontalline:{width:220,marginLeft:8,color:h.a[200]},typo:{marginTop:5},createpost:{marginTop:80,marginLeft:20,width:"90%",height:200,display:"flex",flexDirection:"column",padding:10,borderRadius:10},menuButton:(a={marginRight:2},Object(u.a)(a,e.breakpoints.up("md"),{display:"none"}),Object(u.a)(a,"marginBottom",15),a),menu:{marginTop:35},menubuttonTwo:(n={position:"auto",marginRight:0},Object(u.a)(n,e.breakpoints.up("md"),{display:"none"}),Object(u.a)(n,"marginBottom",15),Object(u.a)(n,"color",p.a[50]),n),friendstitle:{marginLeft:10,marginTop:-10,color:h.a[700]},timelineAvatar:{borderRadius:0,width:"28%",height:30},typo2:{marginLeft:25},typo3:{marginLeft:10},rightbarTop:Object(u.a)({marginTop:70,marginLeft:10,marginRight:10,paddingTop:-50,width:"40%",display:"flex",flexDirection:"column",justifyContent:"flex-start",boxShadow:"none"},e.breakpoints.down(1070),{display:"none"}),boldText:{display:"inline",fontWeight:800},ad:{borderRadius:10},fadedText:{display:"inline",fontWeight:400,color:p.a[500]},friendButton:{color:h.a[400]},createpostTitle:{marginLeft:70,marginTop:-30,height:10,width:"80%"},horizontalline2:{display:"block",width:"95%",marginLeft:20,marginTop:60,color:p.a[200],fontWeight:200},shareoptions:(r={display:"flex",marginLeft:20,marginTop:20,flexDirection:"row"},Object(u.a)(r,e.breakpoints.down(1070),{width:"100%"}),Object(u.a)(r,e.breakpoints.down(750),{width:"80%"}),r),shareoption:Object(u.a)({display:"flex",alignItems:"center",marginRight:"5%"},e.breakpoints.down(750),{marginRight:"3%"}),feedBox:(c={display:"flex",flexDirection:"column",width:"60%"},Object(u.a)(c,e.breakpoints.down("sm"),{width:"80%"}),Object(u.a)(c,e.breakpoints.down(750),{width:"90%"}),c),post:{width:"93%",borderRadius:10,marginLeft:20,marginTop:30,boxShadow:"1px 1px 2px 2px lightgrey",display:"flex",flexDirection:"column"},postTitle:{display:"flex",justifyContent:"flex-start",marginLeft:70,marginTop:-50},postText:{textAlign:"left"},postImg:{marginTop:20,width:"100%",maxHeight:500,objectFit:"contain"},postBottom:{display:"flex",alignItems:"center",justifyContent:"flex-start",width:"90%",marginLeft:20,marginTop:20,marginBottom:15},likecountertext:{marginRight:"46%"},feedBox2:(i={display:"flex",flexDirection:"column",width:"60%"},Object(u.a)(i,e.breakpoints.down("sm"),{width:"80%"}),Object(u.a)(i,e.breakpoints.down(750),{width:"80%"}),Object(u.a)(i,e.breakpoints.up("md"),{marginLeft:x}),i),profilePageTop:{height:320,width:"100%"},root2:{display:"flex",flexDirection:"column"},avatar2:Object(u.a)({width:150,height:150,marginLeft:"54%",marginTop:-75,border:"3px solid white"},e.breakpoints.down(960),{marginLeft:"40%"}),profileHeading:Object(u.a)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},e.breakpoints.up("md"),{marginLeft:x}),userInfo:(s={display:"flex",flexDirection:"column",textAlign:"left",marginTop:100},Object(u.a)(s,e.breakpoints.up("md"),{marginLeft:280}),Object(u.a)(s,"marginLeft",20),s),friendBox:(o={display:"flex",flexDirection:"row",marginTop:10},Object(u.a)(o,e.breakpoints.up("md"),{marginLeft:280}),Object(u.a)(o,"marginLeft",20),o),root3:{display:"flex",alignItems:"center",justifyContent:"center",width:"90%",height:650},login:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"center",width:"70%",height:"60%"},e.breakpoints.down(720),{display:"flex",flexDirection:"column",alignItems:"center"}),loginTitle:{width:"50%",display:"flex",flexDirection:"column",marginRight:50,textAlign:"left"},loginForm:Object(u.a)({width:"50%",display:"flex",flexDirection:"column",backgroundColor:p.a[50],alignItems:"center",justifyContent:"center",paddingTop:20,paddingBottom:20,borderRadius:5,height:"90%",boxShadow:"1px 1px 5px 5px #c2c2c2"},e.breakpoints.down(720),{width:"340px",marginLeft:30,marginTop:30}),profileBtnBox:{right:10,position:"absolute",marginTop:-45,display:"flex",alignItems:"center"},userInfoBox:{position:"relative",width:"100%"},chatContainer:Object(u.a)({marginTop:50,alignItems:"row",width:"100%"},e.breakpoints.up(900),{display:"flex",alignItems:"row"}),conversationContainer:Object(u.a)({width:"25%",height:"100%",borderRight:"1px solid grey",overflow:"auto"},e.breakpoints.down(900),{width:"350px"}),conversation:{display:"flex",alignItems:"center",padding:10,height:60,marginTop:5},conversationNames:{position:"relative",width:"100%"},chatBox:(l={width:"75%"},Object(u.a)(l,e.breakpoints.down(475),{width:"351px"}),Object(u.a)(l,"backgroundColor",p.a[100]),l),message:{padding:10,marginLeft:10,borderRadius:20,maxWidth:"45%",backgroundColor:"#4462d4",color:"white"},messageTime:{marginLeft:60,marginTop:0,fontSize:12,color:p.a[700]},messageOwn:{padding:10,marginLeft:10,borderRadius:20,maxWidth:"45%",backgroundColor:"#a5c6f2",color:"black"},messageBox:{display:"flex",alignItems:"row",padding:10},messageOwnBox:{display:"flex",justifyContent:"flex-end",padding:10},ownMessageTime:{display:"flex",justifyContent:"flex-end",marginRight:60,marginTop:0,fontSize:12,color:p.a[700]},chatBoxBottom:{display:"flex",marginTop:5,alignItems:"center",justifyContent:"space-between",padding:10,position:"sticky"},chatDivOverflow:{display:"flex",flexDirection:"column",overflow:"auto",height:445},chatPage:{overflow:"hidden"},menuItem:{display:"flex",alignItems:"center",flexDirection:"row",textDecoration:"none",color:"black",paddingBottom:10},shareoption2:Object(u.a)({display:"flex",alignItems:"center",marginRight:"5%"},e.breakpoints.down(600),{display:"none"}),settings:Object(u.a)({margin:80},e.breakpoints.up(900),{marginLeft:280,marginTop:80})}})),m=a(52),f=a(352),g=a(361),v=a(362),y=a(344),w=a(347),k=a(348),N=a(388),T=a(367),C=a(353),S=a(349),R=a(354),I=a(355),L=a(356),B=a(357),_=a(358),D=a(359),F=a(360),P=a(364),E=a(366),A=a(350),U=a(41),W=a(390),M=a(394),z=a(387),H=a(404),J=a(392),q=a(184),G=a.n(q),V=a.p+"static/media/cat.bbc9c246.jpg",K=a.p+"static/media/jhon.929c8db6.jpeg",Q=a.p+"static/media/bruce_wayne.f4dc5886.jpg",Y=a.p+"static/media/milesmorales.ebb77f95.jpeg",X=a(191),Z=a(396),$=a(395),ee=a(346),te=a(351),ae=a(132),ne=a.n(ae),re=a(28),ce=a(27),ie=a(42),se=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,isFetching:!1,error:!1};case"LOGIN_FAILURE":return{user:null,isFetching:!1,error:t.payload};case"FOLLOW":return Object(ie.a)(Object(ie.a)({},e),{},{user:Object(ie.a)(Object(ie.a)({},e.user),{},{following:[].concat(Object(ce.a)(e.user.following),[t.payload])})});case"UNFOLLOW":return Object(ie.a)(Object(ie.a)({},e),{},{user:Object(ie.a)(Object(ie.a)({},e.user),{},{following:e.user.following.filter((function(e){return e!==t.payload}))})});default:return e}},oe=a(1),le={user:JSON.parse(localStorage.getItem("user")),isFetching:!1,error:!1},de=Object(n.createContext)(le),je=function(e){var t=e.children,a=Object(n.useReducer)(se,le),r=Object(d.a)(a,2),c=r[0],i=r[1];return Object(n.useEffect)((function(){localStorage.setItem("user",JSON.stringify(c.user))}),[c.user]),Object(oe.jsx)(de.Provider,{value:{user:c.user,isFetching:c.isFetching,error:c.error,dispatch:i},children:t})};function ue(){var e=O(),t=r.a.useState(null),a=Object(d.a)(t,2),c=a[0],i=a[1],s=Boolean(c),o=Object(n.useContext)(de).user,l=function(){i(null)};return Object(oe.jsxs)("div",{children:[Object(oe.jsx)(y.a,{id:"button","aria-controls":"menu","aria-haspopup":"true","aria-expanded":s?"true":void 0,onClick:function(e){i(e.currentTarget)},className:e.menubuttonTwo,children:Object(oe.jsx)(ne.a,{})}),Object(oe.jsxs)(X.a,{id:"menu",open:s,onClose:l,anchorEl:c,MenuListProps:{"aria-labelledby":"button"},className:e.menu,children:[Object(oe.jsx)(Z.a,{onClick:l,children:Object(oe.jsxs)(re.b,{to:"/",className:e.menuItem,children:[Object(oe.jsx)(ee.a,{style:{marginRight:20}}),Object(oe.jsx)(w.a,{children:"Homepage"})]})}),Object(oe.jsx)(Z.a,{onClick:l,style:{overflow:"visible"},children:Object(oe.jsxs)(re.b,{to:"/chat",className:e.menuItem,children:[Object(oe.jsx)(k.a,{badgeContent:9,color:"error",children:Object(oe.jsx)(S.a,{})}),Object(oe.jsx)(w.a,{className:e.typo2,children:"Chats"})]})}),Object(oe.jsx)(Z.a,{onClick:l,style:{overflow:"visible"},children:Object(oe.jsxs)(re.b,{to:"",className:e.menuItem,children:[Object(oe.jsx)(k.a,{badgeContent:17,color:"error",children:Object(oe.jsx)(A.a,{})}),Object(oe.jsx)(w.a,{className:e.typo2,children:"Notifications"})]})}),Object(oe.jsx)(Z.a,{onClick:l,style:{overflow:"visible"},children:Object(oe.jsxs)(re.b,{to:"/settings",className:e.menuItem,children:[Object(oe.jsx)(te.a,{}),Object(oe.jsx)(w.a,{className:e.typo2,children:"Settings"})]})}),Object(oe.jsx)(Z.a,{onClick:l,style:{overflow:"visible"},children:Object(oe.jsxs)(re.b,{to:"/profile/".concat(o.username),className:e.menuItem,children:[Object(oe.jsx)($.a,{src:"http://localhost:3000/assets"+o.profilePicture}),Object(oe.jsx)(w.a,{className:e.typo3,children:o.username})]})})]})]})}function be(e){var t=e.profile,a=O(),c=r.a.useState(!1),i=Object(d.a)(c,2),s=i[0],o=i[1],l=Object(m.a)(),u=Object(f.a)(l.breakpoints.up("md")),b=Object(n.useContext)(de).user,p=function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&o(!s)},h=[{text:"Feed",icon:Object(oe.jsx)(C.a,{color:"primary"}),path:""},{text:"Chats",icon:Object(oe.jsx)(S.a,{color:"primary"}),path:""},{text:"Videos",icon:Object(oe.jsx)(R.a,{color:"primary"}),path:""},{text:"Groups",icon:Object(oe.jsx)(I.a,{color:"primary"}),path:""},{text:"Bookmarks",icon:Object(oe.jsx)(L.a,{color:"primary"}),path:""},{text:"Questions",icon:Object(oe.jsx)(B.a,{color:"primary"}),path:""},{text:"Jobs",icon:Object(oe.jsx)(_.a,{color:"primary"}),path:""},{text:"Events",icon:Object(oe.jsx)(D.a,{color:"primary"}),path:""},{text:"Courses",icon:Object(oe.jsx)(F.a,{color:"primary"}),path:""}];return Object(oe.jsxs)("div",{children:[Object(oe.jsx)(g.a,{position:"fixed",className:a.appbar,children:Object(oe.jsxs)(v.a,{children:[Object(oe.jsx)(y.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:p,className:a.menuButton,children:Object(oe.jsx)(G.a,{})}),Object(oe.jsx)(w.a,{variant:"h4",className:a.text,children:Object(oe.jsx)(re.b,{to:"/",style:{color:"white",textDecoration:"none"},children:"Bee"})}),Object(oe.jsxs)(j.a,{className:a.box,children:[Object(oe.jsx)(P.a,{className:a.seacrhicon}),Object(oe.jsx)(U.c,{className:a.input,placeholder:"Search for friend, post or video"})]}),Object(oe.jsxs)(j.a,{className:a.iconbox,children:[Object(oe.jsx)(w.a,{children:"Homepage"}),Object(oe.jsx)(re.b,{to:"/settings",style:{color:"white",textDecoration:"none"},children:Object(oe.jsx)(w.a,{children:"Settings"})}),Object(oe.jsx)(k.a,{badgeContent:2,color:"error",children:Object(oe.jsx)(E.a,{})}),Object(oe.jsx)(k.a,{badgeContent:9,color:"error",children:Object(oe.jsx)(re.b,{to:"/chat",style:{color:"white"},children:Object(oe.jsx)(S.a,{})})}),Object(oe.jsx)(k.a,{badgeContent:17,color:"error",children:Object(oe.jsx)(A.a,{})}),!t&&Object(oe.jsx)(w.a,{onClick:function(){localStorage.removeItem("user"),window.location.reload()},variant:"button",style:{marginLeft:10,cursor:"pointer"},children:"Log Out"}),Object(oe.jsx)(re.b,{to:"/profile/".concat(b.username),children:Object(oe.jsx)(W.a,{className:a.avatar,src:b.profilePicture})})]}),Object(oe.jsx)(ue,{})]})}),Object(oe.jsxs)(N.a,{className:a.drawer,variant:u?"permanent":"temporary",anchor:"left",open:s,onClose:p,classes:{paper:a.drawerPaper},children:[Object(oe.jsx)(M.a,{children:h.map((function(e){return Object(oe.jsxs)(z.a,{className:a.leftdrawerlistitems,children:[Object(oe.jsx)(H.a,{children:e.icon}),Object(oe.jsx)(J.a,{children:e.text})]},e.text)}))}),Object(oe.jsx)(T.a,{variant:"contained",color:"default",className:a.button,children:"Show More"}),Object(oe.jsx)("hr",{className:a.horizontalline}),Object(oe.jsxs)(M.a,{children:[Object(oe.jsxs)(z.a,{className:a.typo,children:[Object(oe.jsx)(H.a,{children:Object(oe.jsx)(W.a,{alt:"person",src:K})}),Object(oe.jsx)(J.a,{children:Object(oe.jsx)(w.a,{children:"Jhon Wick"})})]}),Object(oe.jsxs)(z.a,{className:a.typo,children:[Object(oe.jsx)(H.a,{children:Object(oe.jsx)(W.a,{alt:"person",src:Q})}),Object(oe.jsx)(J.a,{children:Object(oe.jsx)(w.a,{children:"Bruce Wayne"})})]}),Object(oe.jsxs)(z.a,{className:a.typo,children:[Object(oe.jsx)(H.a,{children:Object(oe.jsx)(W.a,{alt:"person",src:Y})}),Object(oe.jsx)(J.a,{children:Object(oe.jsx)(w.a,{children:"Miles Morales"})})]}),Object(oe.jsxs)(z.a,{className:a.typo,children:[Object(oe.jsx)(H.a,{children:Object(oe.jsx)(W.a,{alt:"person",src:V})}),Object(oe.jsx)(J.a,{children:Object(oe.jsx)(w.a,{children:"Thunder Cat"})})]})]})]})]})}var pe=a(368),he=a(369),xe=a(370),Oe=a(398),me=a.p+"static/media/like.d6e9a73c.png",fe=a.p+"static/media/heart.ee43563e.png",ge=a(25),ve=a.n(ge),ye=a(101);function we(e){var t=e.post,a=O(),r=Object(n.useState)(t.likes.length),c=Object(d.a)(r,2),i=c[0],s=c[1],u=Object(n.useState)(!1),b=Object(d.a)(u,2),p=b[0],h=b[1],x=Object(n.useState)({}),m=Object(d.a)(x,2),f=m[0],g=m[1],v=Object(n.useContext)(de).user;Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.a.get("/users?userId=".concat(t.userId));case 2:a=e.sent,g(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t.userId]),Object(n.useEffect)((function(){h(t.likes.includes(v._id))}),[v._id,t.likes]);var k=function(){try{ve.a.put("/posts/"+t._id+"/like",{userId:v._id})}catch(e){console.log(e)}s(p?i-1:i+1),h(!p)};return Object(oe.jsxs)(pe.a,{className:a.post,children:[Object(oe.jsx)(Oe.a,{avatar:Object(oe.jsx)(re.b,{to:"/profile/".concat(f.username),style:{textDecoration:"none"},children:Object(oe.jsx)(W.a,{className:a.avatar,src:"http://localhost:3000/assets"+f.profilePicture})}),action:Object(oe.jsx)(y.a,{"aria-label":"settings",style:{color:"black"},children:Object(oe.jsx)(ne.a,{})})}),Object(oe.jsxs)(w.a,{className:a.postTitle,children:[Object(oe.jsx)(re.b,{to:"/profile/".concat(f.username),style:{textDecoration:"none",color:"black"},children:Object(oe.jsx)("div",{style:{paddingRight:10},className:a.boldText,children:f.username})}),Object(ye.format)(t.createdAt)]}),Object(oe.jsx)(he.a,{children:Object(oe.jsx)(w.a,{variant:"body1",color:"text.secondary",className:a.postText,children:t.description})}),Object(oe.jsx)(xe.a,{component:"img",height:"300",image:t.img,alt:"Image",className:a.postImg}),Object(oe.jsxs)(j.a,{className:a.postBottom,children:[Object(oe.jsx)(W.a,{sx:{width:30,height:30,marginRight:1},alt:"like",src:me,onClick:k}),Object(oe.jsx)(W.a,{sx:{width:30,height:30,marginRight:2},alt:"heart",src:fe,onClick:k}),Object(oe.jsxs)(w.a,{className:a.likecountertext,children:[i," people like it"]}),Object(oe.jsxs)(w.a,{children:[t.comment," comments"]})]})]})}var ke=a.p+"static/media/advertise.441afd0a.jpg",Ne=a.p+"static/media/giftbox.ee944b46.jpg",Te=a.p+"static/media/aron-smith.581a3428.jpg",Ce=a.p+"static/media/jadon.5fc173aa.webp",Se=a.p+"static/media/michal-h.118183b7.jpg";function Re(){var e=O();return Object(oe.jsxs)(pe.a,{className:e.rightbarTop,children:[Object(oe.jsx)(Oe.a,{avatar:Object(oe.jsx)(W.a,{sx:{width:80},src:Ne,alt:"giftbox"}),title:Object(oe.jsxs)(w.a,{children:[" ",Object(oe.jsx)("div",{className:e.boldText,children:"Jhon Wick"})," ",Object(oe.jsx)("div",{className:e.fadedText,children:"and"})," ",Object(oe.jsx)("div",{className:e.boldText,children:"3 other friends"})," ",Object(oe.jsx)("div",{className:e.fadedText,children:"have a birthday today"})]})}),Object(oe.jsx)(xe.a,{component:"img",height:"250",image:ke,alt:"advertisement",className:e.ad}),Object(oe.jsxs)(he.a,{children:[Object(oe.jsxs)(w.a,{variant:"h5",children:[" ",Object(oe.jsx)("div",{className:e.boldText,children:"Suggestions"})]}),Object(oe.jsxs)(M.a,{children:[Object(oe.jsxs)(z.a,{className:e.typo,children:[Object(oe.jsx)(H.a,{children:Object(oe.jsx)(W.a,{alt:"person",src:Te})}),Object(oe.jsx)(J.a,{children:Object(oe.jsx)(w.a,{children:"Aron Smith"})}),Object(oe.jsx)(T.a,{className:e.friendButton,variant:"outlined",children:"Add friend"})]}),Object(oe.jsxs)(z.a,{className:e.typo,children:[Object(oe.jsx)(H.a,{children:Object(oe.jsx)(W.a,{alt:"person",src:Ce})}),Object(oe.jsx)(J.a,{children:Object(oe.jsx)(w.a,{children:"Jadon Sancho"})}),Object(oe.jsx)(T.a,{className:e.friendButton,variant:"outlined",children:"Add friend"})]}),Object(oe.jsxs)(z.a,{className:e.typo,children:[Object(oe.jsx)(H.a,{children:Object(oe.jsx)(W.a,{alt:"person",src:Se})}),Object(oe.jsx)(J.a,{children:Object(oe.jsx)(w.a,{children:"Micheal H"})}),Object(oe.jsx)(T.a,{className:e.friendButton,variant:"outlined",children:"Add friend"})]})]})]})]})}var Ie=a(382),Le=a(399),Be=a(371),_e=a(372),De=a(373),Fe=a(374),Pe=a(185),Ee=a(186),Ae=Object(Pe.a)({apiKey:"AIzaSyDLcuoaMnAb2_pl9yuaKIFj3OtbDaU6Yfo",authDomain:"social-media-app-b6de9.firebaseapp.com",projectId:"social-media-app-b6de9",storageBucket:"social-media-app-b6de9.appspot.com",messagingSenderId:"683593184108",appId:"1:683593184108:web:1e8da3ed74fb0e11e03949"}),Ue=Object(Ee.a)(Ae),We=a(70);function Me(){var e=O(),t=Object(n.useContext)(de).user,a=Object(n.useRef)(),r=Object(n.useState)(null),c=Object(d.a)(r,2),i=c[0],s=c[1],j=Object(n.useState)(0),u=Object(d.a)(j,2),b=u[0],p=u[1],h=(Object(m.a)(),null),x=function(){var e=Object(We.c)(Ue,"/images/".concat(h.name));Object(We.d)(e,h).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);p(t)}),(function(e){console.log(e)}),(function(){Object(We.a)(e).then((function(e){s(e)}))}))},f=function(){var e=Object(l.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),p(0),r={userId:t._id,description:a.current.value,img:i},e.prev=3,e.next=6,ve.a.post("/posts",r);case 6:window.location.reload(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(oe.jsxs)(Ie.a,{sx:{boxShadow:"1px 1px 2px 2px lightgrey"},className:e.createpost,children:[Object(oe.jsx)($.a,{src:"http://localhost:3000/assets"+t.profilePicture,sx:{width:56,height:56}}),Object(oe.jsx)(Le.a,{className:e.createpostTitle,placeholder:"What's in your mind "+t.username+"?",inputRef:a}),Object(oe.jsx)("hr",{className:e.horizontalline2}),Object(oe.jsxs)("form",{className:e.shareoptions,onSubmit:f,children:[Object(oe.jsxs)("label",{htmlFor:"file",className:e.shareoption,children:[Object(oe.jsx)(Be.a,{style:{color:"#FF6347",marginRight:3}}),Object(oe.jsx)(w.a,{children:"Photo or Video"}),b>0&&b<100?"Uploading ".concat(b,"%"):"",Object(oe.jsx)(Le.a,{style:{display:"none"},type:"file",id:"file",onChange:function(e){console.log(e.target.files[0]),e.target.files[0]&&(h=e.target.files[0],x(h))}})]}),Object(oe.jsxs)(Ie.a,{className:e.shareoption2,children:[Object(oe.jsx)(_e.a,{style:{color:"blue"}}),Object(oe.jsx)(w.a,{children:"Tag"})]}),Object(oe.jsxs)(Ie.a,{className:e.shareoption2,children:[Object(oe.jsx)(De.a,{style:{color:"green"}}),Object(oe.jsx)(w.a,{children:"Location"})]}),Object(oe.jsxs)(Ie.a,{className:e.shareoption2,children:[Object(oe.jsx)(Fe.a,{style:{color:"#FFD700",marginRight:3}}),Object(oe.jsx)(w.a,{children:"Feelings"})]}),Object(oe.jsx)(T.a,{variant:"contained",type:"submit",style:{backgroundColor:"green",color:"white",width:40},children:"Share"})]})]})}function ze(){var e=O(),t=Object(n.useState)([]),a=Object(d.a)(t,2),r=a[0],c=a[1],i=Object(n.useContext)(de).user;return Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.a.get("posts/timeline/".concat(i._id));case 2:t=e.sent,c(t.data.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[i._id]),Object(oe.jsxs)("div",{className:e.root,children:[Object(oe.jsx)(be,{}),Object(oe.jsxs)(j.a,{className:e.feedBox,children:[Object(oe.jsx)(Me,{}),r.map((function(e){return Object(oe.jsx)(we,{post:e},e._id)})),";"]}),Object(oe.jsx)(Re,{})]})}var He=a(21);function Je(){var e=O(),t="http://localhost:3000/assets",a=Object(n.useState)([]),r=Object(d.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)([]),u=Object(d.a)(s,2),b=u[0],p=u[1],h=Object(n.useContext)(de),x=h.user,m=h.dispatch,f=Object(He.h)().username,g=Object(n.useState)({}),v=Object(d.a)(g,2),y=v[0],k=v[1],N=Object(n.useState)(x.following.includes(null===y||void 0===y?void 0:y._id)),C=Object(d.a)(N,2),S=C[0],R=C[1];Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.a.get("/posts/profile/".concat(f));case 2:t=e.sent,i(t.data.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[f]),Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.a.get("/users?username=".concat(f));case 2:t=e.sent,k(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[f]),Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.a.get("/users/friends/"+y._id);case 3:t=e.sent,p(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[y._id]),Object(n.useEffect)((function(){R(x.following.includes(null===y||void 0===y?void 0:y._id))}),[x,y._id]);var I=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!S){e.next=7;break}return e.next=4,ve.a.put("/users/"+y._id+"/unfollow",{userId:x._id});case 4:m({type:"UNFOLLOW",payload:y._id}),e.next=10;break;case 7:return e.next=9,ve.a.put("/users/"+y._id+"/follow",{userId:x._id});case 9:m({type:"FOLLOW",payload:y._id});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:R(!S);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(oe.jsxs)("div",{className:e.root2,children:[Object(oe.jsx)(be,{profile:1}),Object(oe.jsxs)("div",{className:e.profilePageTop,children:[Object(oe.jsx)("img",{src:y.coverPicture?y.coverPicture:t+"/bee_cover.png",alt:"coverPhoto",style:{width:"100%",height:250,objectFit:"cover"}}),Object(oe.jsx)($.a,{className:e.avatar2,src:y.profilePicture}),Object(oe.jsxs)("div",{className:e.profileHeading,children:[Object(oe.jsx)(w.a,{variant:"h5",className:e.boldText,children:y.username}),Object(oe.jsx)(w.a,{className:e.fadedText,children:y.description})]})]}),Object(oe.jsxs)("div",{className:e.userInfo,children:[Object(oe.jsxs)("div",{className:e.userInfoBox,children:[Object(oe.jsx)(w.a,{variant:"h5",className:e.boldText,children:"User Information"}),Object(oe.jsxs)("div",{className:e.profileBtnBox,children:[f!==x.username&&Object(oe.jsx)(T.a,{variant:"contained",onClick:I,style:{backgroundColor:"#3778bd",color:"white",marginTop:15},children:S?"Unfollow":"Follow"}),Object(oe.jsx)(te.a,{style:{marginLeft:10,marginTop:15},fontSize:"medium"})]})]}),Object(oe.jsxs)(w.a,{style:{paddingTop:10},children:[Object(oe.jsx)("div",{style:{paddingRight:10},className:e.fadedText,children:"From:"}),Object(oe.jsx)("div",{style:{display:"inline",fontWeight:350},children:y.from})]}),Object(oe.jsxs)(w.a,{style:{paddingTop:5},children:[Object(oe.jsx)("div",{style:{paddingRight:10},className:e.fadedText,children:"Occupation:"}),Object(oe.jsx)("div",{style:{display:"inline",fontWeight:350},children:y.occupation})]}),Object(oe.jsxs)(w.a,{style:{paddingTop:5},children:[Object(oe.jsx)("div",{style:{paddingRight:10},className:e.fadedText,children:"Relationship:"}),Object(oe.jsx)("div",{style:{display:"inline",fontWeight:350},children:1===y.relationship?"Single":2===y.relationship?"Married":"Complicated"})]})]}),Object(oe.jsx)(w.a,{className:e.userInfo,style:{marginTop:10},variant:"h5",children:Object(oe.jsx)("div",{className:e.boldText,children:"Friends"})}),Object(oe.jsx)(j.a,{className:e.friendBox,children:b.map((function(a){return Object(oe.jsx)(re.b,{to:"/profile/".concat(a.username),style:{textDecoration:"none",color:"black"},children:Object(oe.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginRight:10},children:[Object(oe.jsx)("img",{src:t+a.profilePicture,style:{width:100,height:100,borderRadius:5,objectFit:"cover"}}),Object(oe.jsx)(w.a,{style:{textAlign:"left"},className:e.boldText,children:a.username})]})})}))}),Object(oe.jsxs)(j.a,{className:e.feedBox2,children:[f===x.username&&Object(oe.jsx)(Me,{}),c.map((function(e){return Object(oe.jsx)(we,{post:e},e._id)})),";"]})]})}var qe=a(383),Ge=a(375),Ve=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"LOGIN_START"}),e.prev=1,e.next=4,ve.a.post("auth/login",t);case 4:n=e.sent,a({type:"LOGIN_SUCCESS",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:"LOGIN_FAILURE",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}();function Ke(){var e=O(),t=Object(n.useRef)(),a=Object(n.useRef)(),r=Object(He.g)(),c=Object(n.useContext)(de),i=c.isFetching,s=c.dispatch;return Object(oe.jsx)("div",{className:e.root3,children:Object(oe.jsxs)("div",{className:e.login,children:[Object(oe.jsxs)("div",{className:e.loginTitle,children:[Object(oe.jsx)(w.a,{color:"primary",variant:"h1",children:"Bee"}),Object(oe.jsx)(w.a,{style:{fontWeight:200,textAlign:"left"},variant:"h5",children:"Connect to the people and share your story."})]}),Object(oe.jsxs)("form",{className:e.loginForm,onSubmit:function(e){e.preventDefault(),Ve({email:t.current.value,password:a.current.value},s)},children:[Object(oe.jsx)(qe.a,{style:{width:"80%",marginBottom:15,borderRadius:5},id:"outlined-basic",type:"email",required:!0,label:"Email",variant:"outlined",inputRef:t}),Object(oe.jsx)(qe.a,{style:{width:"80%",marginBottom:15,borderRadius:5},id:"outlined-basic",type:"password",required:!0,inputProps:{minLength:6},label:"Password",variant:"outlined",inputRef:a}),Object(oe.jsx)(T.a,{type:"submit",variant:"contained",style:{backgroundColor:"#655afa",color:"white",width:"80%"},children:i?Object(oe.jsx)(Ge.a,{color:"white",size:"24px"}):"Log In"}),Object(oe.jsx)(w.a,{color:"primary",style:{marginTop:15},children:"Forgot Password?"}),Object(oe.jsx)(T.a,{variant:"contained",onClick:function(){r("/register")},style:{backgroundColor:"#3778bd",color:"white",width:"60%",marginTop:15},children:i?Object(oe.jsx)(Ge.a,{color:"white",size:"24px"}):"Create a new Account"})]})]})})}function Qe(){var e=O(),t=Object(n.useRef)(),a=Object(n.useRef)(),r=Object(n.useRef)(),c=Object(n.useRef)(),i=Object(He.g)(),s=function(){var e=Object(l.a)(o.a.mark((function e(n){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),c.current.value===r.current.value){e.next=5;break}r.current.setCustomValidity("Password don't match!"),e.next=15;break;case 5:return s={username:t.current.value,email:a.current.value,password:r.current.value},e.prev=6,e.next=9,ve.a.post("/auth/register",s);case 9:i("/login"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(oe.jsx)("div",{className:e.root3,children:Object(oe.jsxs)("div",{className:e.login,children:[Object(oe.jsxs)("div",{className:e.loginTitle,children:[Object(oe.jsx)(w.a,{color:"primary",variant:"h1",children:"Bee"}),Object(oe.jsx)(w.a,{style:{fontWeight:200,textAlign:"left"},variant:"h5",children:"Connect to the people and share your story."})]}),Object(oe.jsxs)("form",{className:e.loginForm,onSubmit:s,children:[Object(oe.jsx)(qe.a,{style:{width:"80%",marginBottom:15,borderRadius:5},id:"outlined-basic",label:"Username",inputRef:t,variant:"outlined",required:!0}),Object(oe.jsx)(qe.a,{style:{width:"80%",marginBottom:15,borderRadius:5},id:"outlined-basic",label:"Email",type:"email",inputRef:a,variant:"outlined",required:!0}),Object(oe.jsx)(qe.a,{style:{width:"80%",marginBottom:15,borderRadius:5},id:"outlined-basic",label:"Password",type:"password",inputRef:r,variant:"outlined",inputProps:{minLength:6},required:!0}),Object(oe.jsx)(qe.a,{style:{width:"80%",marginBottom:15,borderRadius:5},id:"outlined-basic",label:"Confirm Password",type:"password",inputRef:c,variant:"outlined",required:!0}),Object(oe.jsx)(T.a,{type:"submit",variant:"contained",style:{backgroundColor:"#655afa",color:"white",width:"80%"},children:"Sign In"}),Object(oe.jsx)(T.a,{variant:"contained",onClick:function(){i("/login")},style:{backgroundColor:"#4248f5",color:"white",width:"50%",marginTop:10},children:"Log into Account"})]})]})})}var Ye=a(379);function Xe(e){var t=e.conversation,a=e.currentUser,r=e.message,c=O(),i=Object(n.useState)(null),s=Object(d.a)(i,2),j=s[0],u=s[1],b=Object(n.useState)(null),p=Object(d.a)(b,2),h=p[0],x=p[1],m=(null===h||void 0===h?void 0:h.length)-1;return Object(n.useEffect)((function(){var e=t.members.find((function(e){return e!==a._id})),n=function(){var t=Object(l.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.a.get("/users?userId="+e);case 3:a=t.sent,u(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();n()}),[a,t]),Object(n.useEffect)((function(){m=(null===h||void 0===h?void 0:h.length)-1;var e=function(){var e=Object(l.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.a.get("/messages/"+t._id);case 3:a=e.sent,x(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[a,r]),Object(oe.jsxs)("div",{className:c.conversation,children:[Object(oe.jsx)($.a,{src:j&&"http://localhost:3000/assets"+j.profilePicture}),Object(oe.jsxs)("div",{className:c.conversationNames,children:[Object(oe.jsx)(w.a,{style:{position:"absolute",left:10,marginTop:-20,fontSize:15},children:j&&j.username}),Object(oe.jsx)(w.a,{style:{position:"absolute",right:5,marginTop:-17,fontSize:12},children:Object(ye.format)(null!=h&&h[m]?h[m].createdAt:"")}),Object(oe.jsx)(w.a,{style:{position:"absolute",left:10,fontSize:12,marginTop:3},children:null!=h&&h[m]?h[m].text:""})]})]})}function Ze(e){var t=e.message,a=e.own,n=O();return Object(oe.jsxs)("div",{children:[Object(oe.jsxs)("div",{className:a?n.messageOwnBox:n.messageBox,children:[!a&&Object(oe.jsx)($.a,{}),Object(oe.jsx)(w.a,{className:a?n.messageOwn:n.message,variant:"body2",children:t.text}),a&&Object(oe.jsx)($.a,{style:{marginLeft:10}})]}),Object(oe.jsx)(w.a,{className:a?n.ownMessageTime:n.messageTime,variant:"body2",children:Object(ye.format)(t.createdAt)})]})}var $e=a(141),et=a(190),tt=a(377),at=a(381),nt=a(380);function rt(){var e=Object(n.useContext)(de).user,t=Object(n.useState)(null),a=Object(d.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(null),s=Object(d.a)(i,2),j=s[0],u=s[1];return Object(n.useEffect)((function(){var t=function(){var t=Object(l.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.a.get("/users/friends/"+e._id);case 3:a=t.sent,c(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[e._id]),Object(n.useEffect)((function(){if(j){var t=function(){var t=Object(l.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={senderId:e._id,receiverId:null===j||void 0===j?void 0:j._id},t.prev=1,t.next=4,ve.a.post("/conversations",a);case 4:t.sent,window.location.reload(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();t()}}),[null===j||void 0===j?void 0:j._id]),Object(oe.jsx)(nt.a,{onChange:function(e,t){u(t)},id:"friend-search",sx:{width:300,margin:2},options:r,autoHighlight:!0,getOptionLabel:function(e){return e.username},isOptionEqualToValue:function(e,t){return e.id===t.id},renderOption:function(e,t){return Object(oe.jsxs)(tt.a,Object(ie.a)(Object(ie.a)({component:"li",sx:{"& > img":{mr:2,flexShrink:0}}},e),{},{children:[Object(oe.jsx)(W.a,{src:"http://localhost:3000/assets"+t.profilePicture,style:{marginRight:10}}),t.username]}))},renderInput:function(e){return Object(oe.jsx)(at.a,Object(ie.a)(Object(ie.a)({},e),{},{label:"Search friends",inputProps:Object(ie.a)(Object(ie.a)({},e.inputProps),{},{autoComplete:"new-password"}),variant:"standard"}))}})}function ct(){var e=O(),t=Object(n.useContext)(de).user,a=Object(n.useState)([]),r=Object(d.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)(null),u=Object(d.a)(s,2),b=u[0],p=u[1],h=Object(n.useState)([]),x=Object(d.a)(h,2),y=x[0],N=x[1],C=Object(n.useState)(""),R=Object(d.a)(C,2),I=R[0],L=R[1],B=Object(n.useState)(null),_=Object(d.a)(B,2),D=_[0],F=_[1],M=Object(n.useRef)(),z=Object(n.useRef)(),H=Object(m.a)(),J=Object(f.a)(H.breakpoints.down(900)),q=Object(n.useState)(!1),G=Object(d.a)(q,2),V=G[0],K=G[1];Object(n.useEffect)((function(){M.current=Object(et.a)("ws://localhost:8900"),M.current.on("getMessage",(function(e){F({sender:e.senderId,text:e.text,createdAt:Date.now()})}))}),[]),Object(n.useEffect)((function(){D&&(null===b||void 0===b?void 0:b.members.includes(D.sender))&&N((function(e){return[].concat(Object(ce.a)(e),[D])}))}),[D,b]),Object(n.useEffect)((function(){M.current.emit("addUser",t._id),M.current.on("getUsers",(function(e){console.log(e)}))}),[t]),Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.a.get("/conversations/"+t._id);case 3:a=e.sent,i(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[t._id]),Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.a.get("/messages/"+(null===b||void 0===b?void 0:b._id));case 3:t=e.sent,N(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[b]);var Q=function(){var e=Object(l.a)(o.a.mark((function e(a){var n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n={sender:t._id,text:I,conversationId:b._id},r=b.members.find((function(e){return e!==t._id})),M.current.emit("sendMessage",{senderId:t._id,receiverId:r,text:I}),e.prev=4,e.next=7,ve.a.post("/messages",n);case 7:c=e.sent,N([].concat(Object(ce.a)(y),[c.data])),L(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e;null===(e=z.current)||void 0===e||e.scrollIntoView({behaviour:"smoth"})}),[y]),Object(oe.jsxs)("div",{className:e.chatPage,children:[Object(oe.jsx)(g.a,{position:"fixed",className:e.appbar,children:Object(oe.jsxs)(v.a,{children:[Object(oe.jsx)(w.a,{variant:"h4",className:e.text,children:Object(oe.jsx)(re.b,{to:"/",style:{color:"white",textDecoration:"none"},children:"Bee"})}),Object(oe.jsxs)(j.a,{className:e.box,children:[Object(oe.jsx)(P.a,{className:e.seacrhicon}),Object(oe.jsx)(U.c,{className:e.input,placeholder:"Search for friend, post or video"})]}),Object(oe.jsxs)(j.a,{className:e.iconbox,children:[Object(oe.jsx)(w.a,{children:"Homepage"}),Object(oe.jsx)(w.a,{children:"Timeline"}),Object(oe.jsx)(k.a,{badgeContent:2,color:"error",children:Object(oe.jsx)(E.a,{})}),Object(oe.jsx)(k.a,{badgeContent:9,color:"error",children:Object(oe.jsx)(re.b,{to:"/chat",style:{color:"white"},children:Object(oe.jsx)(S.a,{})})}),Object(oe.jsx)(k.a,{badgeContent:17,color:"error",children:Object(oe.jsx)(A.a,{})}),Object(oe.jsx)(re.b,{to:"/profile/".concat(t.username),children:Object(oe.jsx)(W.a,{className:e.avatar,src:"http://localhost:3000/assets"+t.profilePicture})})]}),Object(oe.jsx)(ue,{})]})}),Object(oe.jsxs)("div",{className:e.chatContainer,children:[J?V?Object(oe.jsxs)("div",{className:e.conversationContainer,children:[Object(oe.jsx)(Ye.a,{onClick:function(){return K(!V)},style:{border:"2px solid black",width:40,height:40}}),Object(oe.jsx)(rt,{}),c.map((function(e){return Object(oe.jsx)("div",{onClick:function(){return p(e)},children:Object(oe.jsx)(Xe,{conversation:e,currentUser:t,message:y})})}))]}):Object(oe.jsx)(Ye.a,{onClick:function(){return K(!V)},style:{border:"2px solid black",width:40,height:40}}):Object(oe.jsxs)("div",{className:e.conversationContainer,children:[Object(oe.jsx)(rt,{}),c.map((function(e){return Object(oe.jsx)("div",{onClick:function(){return p(e)},children:Object(oe.jsx)(Xe,{conversation:e,currentUser:t,message:y})})}))]}),Object(oe.jsx)("div",{className:e.chatBox,children:b?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("div",{className:e.chatDivOverflow,children:y.map((function(e){return Object(oe.jsx)("div",{ref:z,children:Object(oe.jsx)(Ze,{message:e,own:e.sender===t._id})})}))}),Object(oe.jsxs)("div",{className:e.chatBoxBottom,children:[Object(oe.jsx)(qe.a,{variant:"outlined",multiline:!0,placeholder:"Type your message",maxRows:"20",rows:"5",style:{width:"80%"},onChange:function(e){return L(e.target.value)},value:I}),Object(oe.jsx)(T.a,{variant:"contained",color:"primary",onClick:Q,children:"Send"})]})]}):Object(oe.jsx)("div",{children:Object(oe.jsx)(w.a,{variant:"h3",style:{color:$e.a[400],marginTop:50,marginLeft:50},children:"Open a conversation to start a chat."})})})]})]})}var it=a(384),st=a(389),ot=a(400),lt=a(393),dt=a(378);function jt(){var e=O(),t=Object(n.useState)(null),a=Object(d.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(0),s=Object(d.a)(i,2),j=s[0],u=s[1],b=(Object(m.a)(),null),p=Object(n.useContext)(de).user,h=Object(n.useRef)(),x=Object(n.useRef)(),f=Object(n.useRef)(),g=Object(n.useState)(null),v=Object(d.a)(g,2),y=v[0],k=v[1],N=function(e){console.log(e.target.files[0]),e.target.files[0]&&(b=e.target.files[0],C(b))},C=function(){var e=Object(We.c)(Ue,"/images/".concat(b.name));Object(We.d)(e,b).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);u(t)}),(function(e){console.log(e)}),(function(){Object(We.a)(e).then((function(e){c(e)}))}))},S=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),u(0),a={picture:r},console.log(a.picture),e.prev=4,e.next=7,ve.a.put("/users/profilepic/"+p._id,a);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),u(0),a={picture:r},console.log(a.picture),e.prev=4,e.next=7,ve.a.put("/users/coverpic/"+p._id,a);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={description:""===h.current.value?p.description:h.current.value,from:""!==x.current.value?x.current.value:p.from,occupation:""!==f.current.value?f.current.value:p.occupation,relationship:null!==y?y:p.relationship},e.prev=2,e.next=5,ve.a.put("/users/"+p._id,a);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(oe.jsxs)("div",{children:[Object(oe.jsx)(be,{}),Object(oe.jsxs)("div",{className:e.settings,children:[Object(oe.jsx)(w.a,{variant:"h4",children:"Settings :"}),Object(oe.jsx)(w.a,{style:{marginTop:20},children:"1. Change or add Profile picture. "}),Object(oe.jsxs)("form",{style:{width:160,marginTop:10},onSubmit:S,children:[Object(oe.jsxs)("label",{htmlFor:"file",className:e.shareoption,style:{border:"2px solid orange",padding:5,borderRadius:5,margin:5},children:[Object(oe.jsx)(Be.a,{style:{color:"#FF6347",marginRight:3}}),Object(oe.jsx)(w.a,{style:{marginLeft:5},children:"Select Photo"}),j>0&&j<100?"Uploading ".concat(j,"%"):"",Object(oe.jsx)(Le.a,{style:{display:"none"},type:"file",id:"file",onChange:N})]}),Object(oe.jsx)(T.a,{variant:"contained",type:"submit",style:{backgroundColor:"green",color:"white",width:40,marginTop:10,marginLeft:8},children:"SUBMIT"})]}),Object(oe.jsx)(w.a,{style:{marginTop:20},children:"2. Change or add Cover picture. "}),Object(oe.jsxs)("form",{style:{width:160,marginTop:10},onSubmit:R,children:[Object(oe.jsxs)("label",{htmlFor:"file",className:e.shareoption,style:{border:"2px solid orange",padding:5,borderRadius:5,margin:5},children:[Object(oe.jsx)(Be.a,{style:{color:"#FF6347",marginRight:3}}),Object(oe.jsx)(w.a,{style:{marginLeft:5},children:"Select Photo"}),j>0&&j<100?"Uploading ".concat(j,"%"):"",Object(oe.jsx)(Le.a,{style:{display:"none"},type:"file",id:"file",onChange:N})]}),Object(oe.jsx)(T.a,{variant:"contained",type:"submit",style:{backgroundColor:"#1d3ebf",color:"white",width:40,margin:8},children:"SUBMIT"})]}),Object(oe.jsx)(w.a,{style:{marginTop:20},children:"3. Edit User Information. "}),Object(oe.jsxs)("form",{onSubmit:I,style:{display:"flex",flexDirection:"column",maxWidth:400},children:[Object(oe.jsx)(qe.a,{style:{marginTop:20},id:"outlined-basic",type:"text",label:"Description",variant:"outlined",inputRef:h}),Object(oe.jsx)(qe.a,{style:{marginTop:20},id:"outlined-basic",type:"text",label:"From",variant:"outlined",inputRef:x}),Object(oe.jsx)(qe.a,{style:{marginTop:20},id:"outlined-basic",type:"text",label:"Occupation",variant:"outlined",inputRef:f}),Object(oe.jsxs)(lt.a,{component:"fieldset",style:{marginTop:20},children:[Object(oe.jsx)(dt.a,{component:"legend",children:"Relationship"}),Object(oe.jsxs)(st.a,{row:!0,"aria-label":"gender",name:"row-radio-buttons-group",onChange:function(e,t){return k(Number(e.target.value))},children:[Object(oe.jsx)(ot.a,{value:1,control:Object(oe.jsx)(it.a,{}),label:"Single"}),Object(oe.jsx)(ot.a,{value:2,control:Object(oe.jsx)(it.a,{}),label:"Married"}),Object(oe.jsx)(ot.a,{value:3,control:Object(oe.jsx)(it.a,{}),label:"Complicated"})]})]}),Object(oe.jsx)(T.a,{variant:"contained",type:"submit",style:{backgroundColor:"#1d3ebf",color:"white",width:40,marginTop:10},children:"SUBMIT"})]})]})]})}var ut=function(){var e=Object(n.useContext)(de).user;return Object(oe.jsx)(re.a,{children:Object(oe.jsxs)(He.d,{children:[Object(oe.jsx)(He.b,{path:"/",element:e?Object(oe.jsx)(ze,{}):Object(oe.jsx)(Qe,{})}),Object(oe.jsx)(He.b,{path:"/profile/:username",element:Object(oe.jsx)(Je,{})}),Object(oe.jsx)(He.b,{path:"/login",element:e?Object(oe.jsx)(He.a,{to:"/"}):Object(oe.jsx)(Ke,{})}),Object(oe.jsx)(He.b,{path:"/register",element:e?Object(oe.jsx)(He.a,{to:"/"}):Object(oe.jsx)(Qe,{})}),Object(oe.jsx)(He.b,{path:"/chat",element:e?Object(oe.jsx)(ct,{}):Object(oe.jsx)(He.a,{to:"/"})}),Object(oe.jsx)(He.b,{path:"/settings",element:e?Object(oe.jsx)(jt,{}):Object(oe.jsx)(He.a,{to:"/"})})]})})},bt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,405)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(oe.jsx)(r.a.StrictMode,{children:Object(oe.jsx)(je,{children:Object(oe.jsx)(ut,{})})}),document.getElementById("root")),bt()}},[[262,1,2]]]);
//# sourceMappingURL=main.b38bd0cf.chunk.js.map